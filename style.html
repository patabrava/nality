<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nality – UI Style Guide</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Libre+Caslon+Display&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      /* Colors */
      --c-primary-100: #000000;
      --c-primary-invert: #FFFFFF;
      --c-neutral-light: #F5F5F5;
      --c-neutral-medium: #DDDDDD;
      --c-neutral-dark: #555555;
      --c-accent-100: #D32F2F; /* Existing Accent Red for AI elements, also used for active adaptive tab */
      
      /* Typography */
      --font-primary: "Open Sans", system-ui, sans-serif;
      --font-secondary: "Libre Caslon Display", Georgia, serif;
      --font-timeline: "Inter", "SF Pro", system-ui, sans-serif; /* For full timeline component */
      
      /* Spacing & Layout */
      --base-unit: 4px;
      --radius-base: 12px;
      --radius-small: 8px;
      --radius-large: 16px; 
      --radius-timeline-card: 14px; /* Timeline specific */
      --border-base: 1px;
      
      /* Motion */
      --duration-fast: 120ms;
      --duration-medium: 220ms;
      --easing-standard: cubic-bezier(.4,0,.2,1);

      /* AI Component Tokens */
      --chat-launcher-size: 56px;
      --chat-bg-ai: rgba(211, 47, 47, 0.08);
      --chat-bg-user: var(--c-accent-100);
      --chat-text-user: var(--c-primary-invert);
      --chat-text-ai: var(--c-primary-100);
      --chat-panel-bg: var(--c-primary-invert);
      --chat-panel-text: var(--c-primary-100);
      --chat-input-bg: var(--c-neutral-light);
      --chat-timestamp-text: var(--c-neutral-dark);

      /* Full Timeline Component Tokens (based on new spec) */
      --tl-bg: #0F0F10;
      --tl-ink-100: #FFFFFF;
      --tl-ink-60: #D6D6D8;
      --tl-ink-40: #9D9DA0;
      --tl-ink-30: #6D6D70;
      --tl-ink-date-label: #A8A8AB; 
      --tl-surface-100: #1C1C1E;
      --tl-surface-80: #2C2C2E; 
      --tl-surface-elevated-tag-text: #8E8E93; 
      --tl-accent-primary: #007AFF;
      --tl-accent-positive: #6BE8FF;
      --tl-accent-warning: #FF9F40;
      --tl-stroke-hairline: #3A3A3C; 
      --tl-stroke-ghost-card: #4E4E51;
      --tl-connector-line: #2E2E30;

      /* Dimensions (1pt = 1px for this demo) */
      --tl-safe-margin-sides: 16px;
      --tl-safe-margin-top: 20px; 
      --tl-spine-x-pos: 54px; 
      --tl-spine-stroke-width: 1.5px;
      --tl-node-diameter: 10px;
      --tl-node-hover-ring-diameter: 14px;
      --tl-card-gutter: 14px; 
      --tl-card-padding-internal: 18px; 
      --tl-card-padding-internal-top: 16px;
      --tl-card-padding-internal-bottom: 18px;
      --tl-card-radius: 14px;
      --tl-row-spacing: 24px; 
      --tl-fab-diameter: 56px;
    }

    body {
      background-color: var(--c-primary-100);
      color: var(--c-primary-invert);
      font-family: var(--font-primary);
      margin: 0;
      padding: 16px;
      line-height: 1.5;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding-bottom: 100px; /* Extra space for fixed elements demo */
    }

    h1 {
      font-family: var(--font-primary);
      font-weight: 700;
      font-size: 38px;
      line-height: 44px;
      margin-bottom: 24px;
    }

    h2 {
      font-family: var(--font-primary);
      font-weight: 700;
      font-size: 32px;
      line-height: 38px;
      margin-top: 40px;
      margin-bottom: 16px;
      border-bottom: 2px solid var(--c-neutral-dark);
      padding-bottom: 8px;
    }

    h3 {
      font-family: var(--font-primary);
      font-weight: 700;
      font-size: 26px;
      line-height: 32px;
      margin-top: 32px;
      margin-bottom: 16px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }

    th, td {
      text-align: left;
      padding: 12px;
      border-bottom: 1px solid var(--c-neutral-dark);
      vertical-align: top;
    }

    th {
      font-weight: 600;
    }

    .color-block {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-bottom: 24px;
    }

    .color-item {
      width: 120px;
      border-radius: var(--radius-base);
      overflow: hidden;
    }

    .color-swatch {
      height: 80px;
      width: 100%;
    }

    .color-meta {
      padding: 8px;
      background-color: rgba(255, 255, 255, 0.1);
      font-size: 14px;
    }

    .typography-sample {
      margin-bottom: 24px;
      border-left: 4px solid var(--c-neutral-dark);
      padding-left: 16px;
    }

    .type-h1 { font-family: var(--font-primary); font-weight: 700; font-size: 38px; line-height: 44px; }
    .type-h2 { font-family: var(--font-primary); font-weight: 700; font-size: 32px; line-height: 38px; }
    .type-h3 { font-family: var(--font-primary); font-weight: 700; font-size: 26px; line-height: 32px; }
    .type-button { font-family: var(--font-primary); font-weight: 700; font-size: 22px; line-height: 26px; letter-spacing: 0.5%; }
    /* .type-nav class related to old navigation, can be removed if not used elsewhere or kept for generic nav text */
    /* .type-nav { font-family: var(--font-primary); font-weight: 600; font-size: 16px; line-height: 20px; letter-spacing: 1%; } */
    .type-body { font-family: var(--font-secondary); font-weight: 400; font-size: 22px; line-height: 28px; }
    .type-caption { font-family: var(--font-secondary); font-weight: 400; font-size: 16px; line-height: 22px; }

    .component-row, .component-demo {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-bottom: 32px;
      padding: 16px;
      border: 1px dashed var(--c-neutral-dark);
      border-radius: var(--radius-small);
      position: relative; /* For positioning elements within demo */
    }
    .component-demo-dark {
      background-color: rgba(255,255,255,0.05);
    }
    .component-demo-light {
      background-color: var(--c-neutral-light);
      color: var(--c-primary-100);
    }

    /* Components */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      height: 44px;
      padding: 0 24px;
      border-radius: var(--radius-base);
      font-family: var(--font-primary);
      font-weight: 700;
      font-size: 22px; 
      cursor: pointer;
      transition: transform var(--duration-fast) var(--easing-standard), background-color var(--duration-fast) var(--easing-standard);
      text-decoration: none; 
    }

    .btn:active, .btn:focus {
      transform: scale(0.98);
    }

    .btn-primary {
      background-color: var(--c-neutral-dark);
      color: var(--c-primary-invert);
      border: none;
    }
    .btn-primary:hover {
        background-color: #6b6b6b; 
    }

    .btn-secondary {
      background-color: transparent;
      color: var(--c-primary-invert);
      border: 1px solid var(--c-primary-invert);
    }
    .btn-secondary:hover {
      background-color: rgba(255,255,255,0.1);
    }
    
    .btn-accent { 
        background-color: var(--c-accent-100);
        color: var(--c-primary-invert);
        border: none;
    }
    .btn-accent:hover {
        background-color: #E53935; 
    }
    .btn-secondary-darktext { 
      background-color: transparent;
      color: var(--c-primary-100);
      border: 1px solid var(--c-primary-100);
    }
    .btn-secondary-darktext:hover {
        background-color: rgba(0,0,0,0.05);
    }


    .tag {
      display: inline-flex;
      align-items: center;
      height: 24px;
      padding: 0 8px;
      border-radius: 12px; 
      background-color: var(--c-neutral-medium);
      color: var(--c-primary-100);
      font-size: 12px; 
      font-weight: 600;
    }

    .tag-active {
      background-color: var(--c-neutral-dark);
      color: var(--c-primary-invert);
    }

    .card { /* Existing card, not the new timeline card */
      width: 300px;
      border-radius: var(--radius-base);
      border: 1px solid var(--c-neutral-medium);
      overflow: hidden;
      transition: transform var(--duration-fast) var(--easing-standard), 
                  border-color var(--duration-fast) var(--easing-standard);
      background-color: rgba(255,255,255,0.03); 
    }

    .card:hover {
      transform: scale(0.98); 
      border-color: var(--c-neutral-dark);
    }

    .card-img {
      width: 100%;
      height: 169px; 
      background-color: #333; 
      position: relative;
    }

    .card-content {
      padding: 16px;
    }

    .card-title {
      font-family: var(--font-primary);
      font-weight: 700;
      font-size: 26px; 
      line-height: 32px;
      margin-bottom: 8px;
    }

    .card-tags {
      display: flex;
      gap: 8px;
    }

    /* Styles for the OLD .timeline-rail and .timeline-node are REMOVED as per request */
    
    .form-element {
      width: 100%;
      height: 44px;
      border-radius: var(--radius-base);
      background-color: var(--c-neutral-light);
      border: 1px solid transparent;
      padding: 0 16px;
      font-family: var(--font-primary);
      color: var(--c-primary-100); 
      font-size: 16px;
    }
    .form-element::placeholder { color: var(--c-neutral-dark); }
    .form-element:focus {
      outline: none; 
      border-color: var(--c-neutral-dark); 
      box-shadow: 0 0 0 2px var(--c-neutral-dark); 
    }

    code {
      display: block;
      background-color: rgba(255, 255, 255, 0.1);
      padding: 16px;
      border-radius: var(--radius-base);
      font-family: monospace;
      margin: 20px 0;
      white-space: pre-wrap; 
      word-break: break-all;
    }
    code.inline {
        display: inline;
        padding: 2px 4px;
        font-size: 0.9em;
        background-color: rgba(255,255,255,0.15);
        border-radius: var(--radius-small);
    }

    hr {
      margin: 32px 0;
      border: none;
      height: 1px;
      background-color: var(--c-neutral-dark);
    }

    /* Bottom Tab Bar (Existing) */
    .bottom-tab-bar {
      width: 100%;
      max-width: 800px; 
      height: 56px; 
      padding: 8px 0 12px;
      background-color: var(--c-primary-100);
      border-top: 1px solid rgba(255,255,255,0.08);
      display: flex;
      justify-content: space-around;
      align-items: flex-start; 
      margin-top: 32px;
      position: fixed; 
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000; 
    }
    .tab-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-width: 64px;
      color: var(--c-primary-invert); 
      cursor: pointer;
    }
     .tab-item:hover .tab-label, .tab-item:hover .tab-icon { opacity: 0.8; }
    .tab-icon {
      width: 24px;
      height: 24px;
      stroke: var(--c-primary-invert); 
      stroke-width: 2px;
      fill: none;
      margin-bottom: 4px;
      background-size: contain; 
      background-repeat: no-repeat;
      background-position: center;
    }
    .tab-label {
      font-size: 12px;
      font-weight: 600;
      text-align: center;
    }
    .icon-house { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' stroke='%23FFF' stroke-width='2' fill='none'%3E%3Cpath d='M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9z'%3E%3C/path%3E%3Cpath d='M9 22V12h6v10'%3E%3C/path%3E%3C/svg%3E"); }
    .icon-timeline { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' stroke='%23FFF' stroke-width='2' fill='none'%3E%3Cline x1='12' y1='2' x2='12' y2='22'%3E%3C/line%3E%3Ccircle cx='12' cy='8' r='2'%3E%3C/circle%3E%3Ccircle cx='12' cy='16' r='2'%3E%3C/circle%3E%3C/svg%3E"); }
    .icon-chat { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' stroke='%23FFF' stroke-width='2' fill='none'%3E%3Cpath d='M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z'%3E%3C/path%3E%3C/svg%3E");}
    .icon-user { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' stroke='%23FFF' stroke-width='2' fill='none'%3E%3Cpath d='M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"); }

    /* Helper class for embedded SVG icons */
    .svg-icon {
        display: inline-block;
        width: 1em;
        height: 1em;
        vertical-align: -0.125em; 
        stroke-width: 2;
        fill: none;
        stroke: currentColor;
    }

    /* 19 · Conversational AI Interface */
    .chat-launcher {
      position: fixed; 
      bottom: calc(56px + 12px + 16px); 
      right: 16px;
      width: var(--chat-launcher-size);
      height: var(--chat-launcher-size);
      background-color: var(--c-primary-invert);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      cursor: pointer;
      transition: transform var(--duration-fast) var(--easing-standard), background-color var(--duration-fast) var(--easing-standard);
      z-index: 110;
    }
    .chat-launcher:hover { transform: scale(1.05); background-color: #f0f0f0; }
    .chat-launcher:active { transform: scale(0.96); background-color: rgba(162,0,0,0.1); }
    .chat-launcher-icon svg { width: 24px; height: 24px; stroke: var(--c-accent-100); fill: var(--c-accent-100); }
    .chat-launcher-badge {
      position: absolute; top: 4px; right: 4px; width: 10px; height: 10px;
      background-color: var(--c-accent-100); border-radius: 50%; border: 2px solid var(--c-primary-invert);
    }

    .chat-panel {
      position: fixed; bottom: 0; left: 0; width: 100%; max-height: 90vh;
      background-color: var(--chat-panel-bg); color: var(--chat-panel-text);
      border-top-left-radius: var(--radius-large); border-top-right-radius: var(--radius-large);
      box-shadow: 0 -4px 20px rgba(0,0,0,0.25); display: flex; flex-direction: column; z-index: 120;
    }
    .chat-panel-header {
      padding: 16px; border-bottom: 1px solid var(--c-neutral-medium);
      display: flex; justify-content: space-between; align-items: center; flex-shrink: 0;
    }
    .chat-panel-title { font-weight: 700; font-size: 18px; }
    .chat-panel-close-btn { background: none; border: none; cursor: pointer; color: var(--chat-panel-text); padding: 4px; }
    .chat-panel-close-btn svg { width: 20px; height: 20px; stroke: var(--c-neutral-dark); }
    .typing-indicator span {
      display: inline-block; width: 6px; height: 6px; border-radius: 50%;
      background-color: var(--c-neutral-medium); margin: 0 2px; animation: typing-dot 1.2s infinite ease-in-out;
    }
    .typing-indicator span:nth-child(1) { animation-delay: -0.3s; }
    .typing-indicator span:nth-child(2) { animation-delay: -0.15s; }
    @keyframes typing-dot { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1.0); } }

    .chat-panel-messages { flex-grow: 1; overflow-y: auto; padding: 16px; display: flex; flex-direction: column; gap: 12px; }
    .chat-panel-input-row {
      padding: 12px 16px; background-color: var(--chat-input-bg);
      border-top: 1px solid var(--c-neutral-medium); display: flex; align-items: center; gap: 12px; flex-shrink: 0;
    }
    .chat-panel-input {
      flex-grow: 1; border: none; padding: 10px 12px; border-radius: var(--radius-base);
      background-color: var(--c-primary-invert); color: var(--c-primary-100); font-size: 16px; height: 40px;
    }
    .chat-panel-input:focus { outline: 1px solid var(--c-neutral-dark); }
    .chat-panel-tool-btn {
      background: none; border: none; cursor: pointer; padding: 8px;
      color: var(--c-neutral-dark); display: flex; align-items: center; justify-content: center;
    }
    .chat-panel-tool-btn svg { width: 24px; height: 24px; stroke: var(--c-neutral-dark); fill: var(--c-neutral-dark); }
    .chat-panel-tool-btn:hover svg { stroke: var(--c-primary-100); fill: var(--c-primary-100); }

    .message-bubble {
      max-width: 75%; padding: 10px 14px; border-radius: var(--radius-base);
      line-height: 1.4; position: relative; font-size: 16px;
    }
    .message-bubble p { margin: 0 0 4px 0; }
    .message-bubble-ai {
      background-color: var(--chat-bg-ai); color: var(--chat-text-ai);
      align-self: flex-start; border-bottom-left-radius: var(--radius-small);
    }
    .message-bubble-ai::before {
      content: ''; position: absolute; bottom: 0px; left: -8px; width: 0; height: 0;
      border-style: solid; border-width: 0px 10px 10px 0; border-color: transparent var(--chat-bg-ai) transparent transparent;
    }
    .message-bubble-user {
      background-color: var(--chat-bg-user); color: var(--chat-text-user);
      align-self: flex-end; border-bottom-right-radius: var(--radius-small);
    }
    .message-bubble-user::after {
      content: ''; position: absolute; bottom: 0px; right: -8px; width: 0; height: 0;
      border-style: solid; border-width: 0px 0 10px 10px; border-color: transparent transparent transparent var(--chat-bg-user);
    }
    .message-timestamp {
      font-size: 12px; font-family: "Open Sans", system-ui, sans-serif; font-weight: 400;
      color: var(--chat-timestamp-text); margin-top: 4px;
    }
    .message-bubble-ai + .message-timestamp { align-self: flex-start; margin-left: 14px;}
    .message-bubble-user + .message-timestamp { align-self: flex-end; margin-right: 14px;}

    /* 20 · AI Notification System */
    .ai-toast {
      position: fixed; bottom: calc(56px + 12px + 16px + 10px); 
      left: 50%; transform: translateX(-50%); width: clamp(288px, 80%, 560px);
      background-color: var(--c-neutral-dark); color: var(--c-primary-invert);
      padding: 12px 16px; border-radius: var(--radius-small);
      font-family: "Open Sans", system-ui, sans-serif; font-weight: 600; font-size: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 130; text-align: center;
    }
    .ai-toast-actions { margin-top: 8px; display: flex; gap: 8px; justify-content: flex-end; }
    .ai-toast-actions .btn { height: 30px; padding: 0 12px; font-size: 13px; }

    .ai-banner {
      background-color: var(--c-accent-100); color: var(--c-primary-invert);
      padding: 12px 16px; display: flex; justify-content: space-between; align-items: center;
      border-radius: var(--radius-small); margin: 16px 0;
    }
    .ai-banner-text { font-size: 15px; font-weight: 500; }
    .ai-banner-dismiss { background: none; border: none; color: var(--c-primary-invert); cursor: pointer; opacity: 0.7; padding: 4px; }
    .ai-banner-dismiss:hover { opacity: 1; }
    .ai-banner-dismiss svg { width: 18px; height: 18px; stroke: currentColor; }

    .modal-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.6); display: flex; align-items: center; justify-content: center;
      z-index: 140; padding: 16px;
    }
    .modal-content {
      background-color: var(--c-primary-invert); color: var(--c-primary-100);
      padding: 24px; border-radius: var(--radius-base); max-width: 600px; width: 100%;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15); border-top: 4px solid var(--c-accent-100);
    }
    .modal-header {
      font-family: var(--font-primary); font-weight: 700; font-size: 22px;
      line-height: 28px; margin-bottom: 16px; color: var(--c-primary-100);
    }
    .modal-body { font-size: 16px; line-height: 1.6; margin-bottom: 24px; color: var(--c-neutral-dark); }
    .modal-actions { display: flex; justify-content: flex-end; gap: 12px; }
    .modal-actions .btn { font-size: 16px; height: 40px; }


    /* --- START: Full Timeline Component Styles --- */
    .full-timeline-viewport { 
      font-family: var(--font-timeline);
      background-color: var(--tl-bg);
      background-image: linear-gradient(rgba(255,255,255,0.01) 1px, transparent 1px),
                        linear-gradient(90deg, rgba(255,255,255,0.01) 1px, transparent 1px);
      background-size: 2px 2px; 
      color: var(--tl-ink-100);
      min-height: 700px; 
      max-width: 375px; 
      margin: 20px auto; 
      border-radius: 20px; 
      box-shadow: 0 0 0 1px rgba(255,255,255,0.04), 
                  0 10px 30px rgba(0,0,0,0.3); 
      position: relative;
      overflow: hidden; 
      padding-top: var(--tl-safe-margin-top); 
    }

    .timeline-scroll-zone {
      height: calc(700px - var(--tl-safe-margin-top) - 64px); 
      overflow-y: auto;
      position: relative; 
      padding-left: var(--tl-safe-margin-sides);
      padding-right: var(--tl-safe-margin-sides);
    }

    .timeline-scroll-zone::before,
    .timeline-scroll-zone::after {
      content: '';
      position: sticky; 
      left: 0;
      width: 100%;
      height: 24px; 
      z-index: 100; 
      pointer-events: none; 
    }
    .timeline-scroll-zone::before {
      top: 0; 
      background: linear-gradient(to bottom, var(--tl-bg) 60%, rgba(15,15,16,0)); 
    }
    .timeline-scroll-zone::after {
      bottom: 0; 
      background: linear-gradient(to top, var(--tl-bg) 60%, rgba(15,15,16,0)); 
    }

    .timeline-list {
      position: relative; 
      padding-top: 20px; 
      padding-bottom: 50px; 
    }

    .timeline-spine {
      position: absolute;
      left: var(--tl-spine-x-pos);
      top: 0; 
      bottom: 0; 
      width: var(--tl-spine-stroke-width);
      background-color: var(--tl-stroke-hairline);
      z-index: 0; 
    }

    .timeline-year-floater {
      position: absolute; 
      left: calc(var(--tl-spine-x-pos) - 8px - 30px); 
      transform: translateX(-100%);
      font-size: 11px;
      font-weight: 500; 
      color: var(--tl-ink-30);
      z-index: 5;
    }
    .timeline-decade-chip {
      position: absolute; 
      left: calc(var(--tl-spine-x-pos) - 22px); 
      transform: translateX(-50%);
      width: 44px;
      height: 20px;
      background-color: var(--tl-surface-80);
      color: var(--tl-ink-40);
      border-radius: 10px;
      font-size: 11px;
      font-weight: 500; 
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 5;
    }


    .timeline-item {
      position: relative;
      padding-left: calc(var(--tl-spine-x-pos) + var(--tl-node-diameter) / 2 + var(--tl-card-gutter));
      margin-bottom: var(--tl-row-spacing); 
      min-height: 50px; 
    }
    .timeline-item:last-child {
      margin-bottom: 0;
    }

    .timeline-node-container {
        position: absolute;
        left: var(--tl-spine-x-pos);
        transform: translateX(-50%); 
        display: flex;
        flex-direction: column; 
        align-items: center; 
        z-index: 10;
    }

    .timeline-event-node {
      width: var(--tl-node-diameter);
      height: var(--tl-node-diameter);
      border-radius: 50%;
      background-color: rgba(255,255,255,0.8); 
      position: relative; 
    }
    .timeline-event-node.moment { background-color: rgba(255,255,255,0.8); }
    .timeline-event-node.duration-start { background-color: var(--tl-accent-positive); }
    .timeline-event-node.duration-end { background-color: var(--tl-accent-warning); }
    .timeline-event-node.decade-marker { 
      width: 8px; 
      height: 8px;
      transform: rotate(45deg);
      border-radius: 1px; 
    }
    .timeline-event-node:hover, .timeline-event-node:focus-visible {
      outline: none;
    }
    .timeline-event-node:hover::before, .timeline-event-node:focus-visible::before { 
      content: '';
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: var(--tl-node-hover-ring-diameter);
      height: var(--tl-node-hover-ring-diameter);
      border-radius: 50%;
      border: 1px solid var(--tl-accent-primary);
    }

    .timeline-date-label {
      font-family: var(--font-timeline); 
      font-size: 11px;
      font-weight: 500; 
      color: var(--tl-ink-date-label); 
      line-height: 1.3;
      text-align: left;
      position: absolute;
      left: calc(var(--tl-spine-x-pos) + var(--tl-node-diameter) / 2 + 6px); 
      top: 50%;
      transform: translateY(-50%);
      white-space: pre; 
    }
    .timeline-date-label.left-of-spine {
        left: auto;
        right: calc(100% - var(--tl-spine-x-pos) + var(--tl-node-diameter) / 2 + 6px);
        text-align: right;
    }


    .timeline-event-card {
      background-color: var(--tl-surface-100);
      border-radius: var(--tl-card-radius);
      box-shadow: 0 0 4px rgba(0,0,0,0.7); 
      padding: var(--tl-card-padding-internal-top) var(--tl-card-padding-internal) var(--tl-card-padding-internal-bottom);
      position: relative;
      overflow: hidden; 
    }

    .timeline-event-card.featured {
      outline: 2px solid var(--tl-accent-primary);
      outline-offset: -1px; 
      z-index: 2; 
    }
    .timeline-event-card.featured .ghost-card-1,
    .timeline-event-card.featured .ghost-card-2 {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: var(--tl-card-radius);
        border: 1.5px solid var(--tl-stroke-ghost-card); 
        opacity: 0.5;
        z-index: -1; 
        background: none; 
    }
    .timeline-event-card.featured .ghost-card-1 {
        transform: translate(-4px, 4px);
    }
    .timeline-event-card.featured .ghost-card-2 {
        transform: translate(-8px, 8px);
    }


    .card-dismiss-button {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 20px;
      height: 20px;
      background: none;
      border: none;
      color: var(--tl-ink-60);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      opacity: 0.7;
    }
    .card-dismiss-button:hover { opacity: 1; }
    .card-dismiss-button svg { width: 12px; height: 12px; stroke: currentColor; stroke-width: 2.5px; }

    .card-overflow-menu-button { 
        position: absolute;
        top: var(--tl-card-padding-internal-top);
        right: var(--tl-card-padding-internal);
        width: 24px;
        height: 24px;
        background: none;
        border: none;
        color: var(--tl-ink-60);
        cursor: pointer;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-around;
        padding: 4px;
    }
    .card-overflow-menu-button span {
        display: block;
        width: 4px;
        height: 4px;
        background-color: currentColor;
        border-radius: 50%;
    }


    .card-source-badge {
      font-family: var(--font-timeline);
      font-size: 10px;
      font-weight: 600; 
      text-transform: uppercase;
      color: var(--tl-ink-60); 
      opacity: 0.7; 
      margin-bottom: 6px;
      display: block;
    }
    .featured-media-card .card-source-badge {
        position: absolute;
        top: var(--tl-card-padding-internal-top);
        left: var(--tl-card-padding-internal);
    }


    .card-title-text {
      font-size: 17px; 
      font-weight: 700; 
      color: var(--tl-ink-100);
      line-height: 22px; 
      margin-bottom: 8px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .featured-media-card .card-title-text {
        padding-top: 18px; 
    }

    .card-date-range {
      font-size: 12px;
      color: var(--tl-surface-elevated-tag-text); 
      margin-bottom: 10px;
      display: block;
    }

    .card-body-snippet {
      font-size: 14px;
      line-height: 18px; 
      color: var(--tl-ink-60);
      display: -webkit-box;
      -webkit-line-clamp: 4;
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ellipsis;
      margin-bottom: 12px;
    }
    .standard-text-card .card-body-snippet { 
        color: var(--tl-ink-100);
        font-size: 15px; 
        -webkit-line-clamp: 5;
    }


    .card-media-region {
      margin-top: 12px;
    }
    .featured-media-card .card-media-region {
        float: right; 
        width: 80px;
        height: 80px;
        margin-left: 12px; 
        margin-top: -10px; 
        border-radius: var(--tl-card-radius); 
        overflow: hidden;
    }
    .card-media-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .card-media-video-thumb {
        width: 100%; 
        max-width: 220px; 
        aspect-ratio: 16 / 9;
        background-color: var(--tl-surface-80);
        border-radius: 10px; 
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 10px;
    }
    .card-media-video-thumb .play-icon svg {
        width: 28px;
        height: 28px;
        fill: var(--tl-accent-primary);
        stroke: var(--tl-ink-100); 
        stroke-width: 1px;
    }
    .card-media-doc {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 13px;
        color: var(--tl-accent-positive);
        cursor: pointer;
        margin-bottom: 10px;
    }
    .card-media-doc svg { width: 20px; height: 20px; fill: currentColor; }
    .card-media-doc:hover { text-decoration: underline; }


    .card-tag-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 12px;
      clear: both; 
    }
    .card-tag-chip {
      background-color: var(--tl-surface-80); 
      color: var(--tl-surface-elevated-tag-text); 
      font-size: 10px;
      font-weight: 500; 
      padding: 0 6px; 
      height: 18px;
      border-radius: 9px; 
      display: inline-flex;
      align-items: center;
      cursor: pointer;
    }
    .card-tag-chip:hover {
        background-color: var(--tl-accent-primary);
        color: var(--tl-ink-100);
    }
    
    .duration-connector {
        position: absolute;
        left: var(--tl-spine-x-pos);
        height: var(--tl-spine-stroke-width); 
        background-color: var(--tl-connector-line);
        z-index: 1;
    }


    .timeline-fab-add {
      position: absolute; 
      bottom: 80px; 
      right: calc(var(--tl-safe-margin-sides) + 10px);
      width: var(--tl-fab-diameter);
      height: var(--tl-fab-diameter);
      background-color: var(--tl-accent-primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 8px rgba(0,122,255,0.35); 
      cursor: pointer;
      z-index: 200;
      animation: fab-breathe 2s infinite alternate ease-in-out;
    }
    @keyframes fab-breathe {
        0% { transform: translateY(0); opacity: 1; }
        50% { transform: translateY(-2px); opacity: 0.95; } 
        100% { transform: translateY(0); opacity: 1; }
    }
    .timeline-fab-add svg {
      width: 26px;
      height: 26px;
      fill: var(--tl-ink-100);
    }
    
    .skeleton-card {
        background-color: var(--tl-surface-80);
        border-radius: var(--tl-card-radius);
        padding: var(--tl-card-padding-internal-top) var(--tl-card-padding-internal) var(--tl-card-padding-internal-bottom);
        height: 150px; 
        position: relative;
        overflow: hidden;
    }
    .skeleton-card::before { 
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.08), transparent);
        animation: shimmer 1.5s infinite linear;
    }
    @keyframes shimmer {
        0% { left: -100%; }
        100% { left: 100%; }
    }
    .skeleton-line {
        background-color: var(--tl-surface-100); 
        height: 12px;
        border-radius: 4px;
        margin-bottom: 8px;
    }
    .skeleton-line.short { width: 60%; }
    .skeleton-line.medium { width: 80%; }


    .timeline-empty-state {
        text-align: center;
        padding: 50px 20px;
        color: var(--tl-ink-40);
    }
    .timeline-empty-state .empty-icon { 
        width: 80px;
        height: 80px;
        border: 2px dashed var(--tl-stroke-hairline);
        border-radius: 50%;
        margin: 0 auto 20px auto;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 30px;
    }
    .timeline-empty-state h4 {
        font-size: 18px;
        color: var(--tl-ink-60);
        margin-bottom: 10px;
    }
    /* --- END: Full Timeline Component Styles --- */

    /* --- START: 7.5 AI-Native Adaptive Tabs Styles --- */
    .adaptive-tab-bar {
      display: flex;
      height: 48px;
      background-color: transparent; 
      border-bottom: 1px solid rgba(255,255,255,0.1); /* Subtle separator for dark bg demo */
      width: 100%;
      overflow-x: auto; 
      align-items: stretch; /* Ensure tabs fill height for underline */
    }

    .adaptive-tab {
      font-family: "Open Sans", system-ui, sans-serif;
      font-weight: 600;
      font-size: 14px;
      color: var(--c-neutral-medium); /* Adjusted for visibility on dark style guide background */
      background-color: transparent;
      border: none;
      padding: 0 16px; 
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      position: relative; 
      white-space: nowrap;
      text-decoration: none; /* Remove underline from button/a */
      transition: color var(--duration-fast) var(--easing-standard); 
    }

    .adaptive-tab:hover {
      color: var(--c-primary-invert); 
    }

    .adaptive-tab.active {
      color: var(--c-accent-100);
      font-weight: 700; 
    }

    .adaptive-tab.active::after {
      content: '';
      position: absolute;
      bottom: 0; 
      left: 0; /* Underline spans full width of tab */
      width: 100%;
      height: 2px;
      background-color: var(--c-accent-100);
      /* Motion: Conceptual - underline slides (240 ms, var(--easing-standard)) */
    }

    .adaptive-tab:focus-visible {
      outline: none;
      box-shadow: 0 0 0 2px var(--c-accent-100); /* 2px focus ring */
      z-index: 1; 
    }

    .adaptive-tab-filter {
      margin-left: auto; 
      padding: 0 12px; 
    }

    .adaptive-tab-filter-icon {
      width: 20px;
      height: 20px;
      stroke-width: 2px; 
      /* color is inherited via currentColor from .adaptive-tab */
    }
    .adaptive-tab-filter:hover .adaptive-tab-filter-icon, /* Ensure icon color changes on hover too */
    .adaptive-tab-filter.active .adaptive-tab-filter-icon {
        color: var(--c-accent-100);
    }
    
    .adaptive-tab .notification-dot {
        display: inline-block;
        width: 6px;
        height: 6px;
        background-color: var(--tl-accent-primary); /* Using a timeline blue for contrast/variety */
        border-radius: 50%;
        margin-left: 6px;
        vertical-align: middle; /* Align with text */
    }
    .user-benefit {
        background-color: rgba(0, 122, 255, 0.05); /* Subtle blue from timeline accent */
        color: var(--tl-ink-60); /* Light grey text, good on dark */
        padding: 12px;
        border-radius: var(--radius-small);
        font-size: 14px;
        border-left: 3px solid var(--tl-accent-primary);
        margin-top: 16px;
    }
    /* --- END: 7.5 AI-Native Adaptive Tabs Styles --- */
    
  </style>
</head>
<body>
  <div class="container">
    <h1>Mobile News App – Full UI Style Guide</h1>
    <p>A single source‑of‑truth for product, design, and engineering teams. Everything in this guide is atomic, token‑driven, and ready to implement in code.</p>

    <h2>1 · Brand Essence</h2>
    <table>
      <tr>
        <td><strong>Personality</strong></td>
        <td>Credible • Modern • Editorial • Unbiased</td>
      </tr>
      <tr>
        <td><strong>Voice & Tone</strong></td>
        <td>Clear, concise, neutral, data‑backed. Never sensational.</td>
      </tr>
      <tr>
        <td><strong>Visual Mood</strong></td>
        <td>High‑contrast elegance; dark canvas with striking neutral accents.</td>
      </tr>
    </table>

    <h2>2 · Core Principles</h2>
    <ol>
      <li><strong>Clarity over decoration</strong> — every pixel must serve readability.</li>
      <li><strong>Hierarchy through contrast</strong> — size, weight, and color create order.</li>
      <li><strong>Motion with meaning</strong> — animation only to signal state change.</li>
      <li><strong>Accessibility first</strong> — AA contrast and 44 px touch targets by default.</li>
    </ol>

    <h2>3 · Color System</h2>
    <div class="color-block">
      <div class="color-item">
        <div class="color-swatch" style="background-color: var(--c-primary-100);"></div>
        <div class="color-meta"><div>--c-primary-100</div><div>#000000</div></div>
      </div>
      <div class="color-item">
        <div class="color-swatch" style="background-color: var(--c-primary-invert);"></div>
        <div class="color-meta"><div>--c-primary-invert</div><div>#FFFFFF</div></div>
      </div>
      <div class="color-item">
        <div class="color-swatch" style="background-color: var(--c-neutral-light);"></div>
        <div class="color-meta"><div>--c-neutral-light</div><div>#F5F5F5</div></div>
      </div>
      <div class="color-item">
        <div class="color-swatch" style="background-color: var(--c-neutral-medium);"></div>
        <div class="color-meta"><div>--c-neutral-medium</div><div>#DDDDDD</div></div>
      </div>
      <div class="color-item">
        <div class="color-swatch" style="background-color: var(--c-neutral-dark);"></div>
        <div class="color-meta"><div>--c-neutral-dark</div><div>#555555</div></div>
      </div>
      <div class="color-item">
        <div class="color-swatch" style="background-color: var(--c-accent-100);"></div>
        <div class="color-meta"><div>--c-accent-100</div><div>#D32F2F</div></div>
      </div>
    </div>
    <p><em>Timeline component specific colors defined in <code>:root</code> as <code>--tl-*</code> variables. See section 21. Adaptive tabs use <code>--c-accent-100</code> for active state.</em></p>


    <h3>3.1 Gradient</h3>
    <div style="width: 100%; height: 40px; background: linear-gradient(to bottom, #555555, #DDDDDD, #555555, #000000); border-radius: var(--radius-small);"></div>
    <p>Vertical rail: <code class="inline">#555555 → #DDDDDD → #555555 → #000000</code> (top → bottom).</p>

    <h3>3.2 Color Usage Ratios</h3>
    <p>Background 70% • Primary text 10% • Neutral grays 20% • Accent up to 5% (for AI elements)</p>

    <h2>4 · Typography</h2>
    <div class="typography-sample"><div class="type-h1">H1: Open Sans Bold 38/44</div><div class="type-details">Screen titles, weight 700</div></div>
    <div class="typography-sample"><div class="type-h2">H2: Open Sans Bold 32/38</div><div class="type-details">Card titles large, weight 700</div></div>
    <div class="typography-sample"><div class="type-h3">H3: Open Sans Bold 26/32</div><div class="type-details">Card titles feed, weight 700</div></div>
    <div class="typography-sample"><div class="type-button">Button: Open Sans Bold 22/26</div><div class="type-details">CTA labels, weight 700, tracking 0.5%</div></div>
    <div class="typography-sample"><div class="type-body">Body: Libre Caslon Display Regular 22/28</div><div class="type-details">Article copy, weight 400</div></div>
    <div class="typography-sample"><div class="type-caption">Caption: Libre Caslon Display Regular 16/22</div><div class="type-details">Meta, tags, weight 400</div></div>
    <p><em>Timeline component uses Inter/SF Pro font stack. See section 21. Adaptive Tabs use Open Sans 600 / 14px.</em></p>

    <h2>5 · Iconography</h2>
    <ul>
      <li><strong>Style</strong> — 24 × 24 px, 2 px stroke, rounded joins. Adaptive Tabs use a 20px icon.</li>
      <li><strong>Color</strong> — Default <code class="inline">--c-neutral-dark</code>; active <code class="inline">--c-primary-invert</code>. Specific components may use <code class="inline">--c-accent-100</code>.</li>
      <li><strong>Grid</strong> — Centered on 24 px art‑board with 2 pt padding.</li>
      <li><strong>Library</strong> — Custom feather‑style SVGs, align optical weight. Embedded SVGs or data URIs preferred.</li>
    </ul>

    <h2>6 · Grid & Spacing</h2>
    <table>
      <tr><td><strong>Base unit</strong></td><td>4 pt</td><td>Everything scales in multiples (4, 8, 12…).</td></tr>
      <tr><td><strong>Column</strong></td><td>4 columns</td><td>16 px gutters, 16 px margins (360 px breakpoint).</td></tr>
      <tr><td><strong>Border radius</strong></td><td>12 px (<code class="inline">--radius-base</code>)</td><td>Cards, buttons, inputs. Smaller (<code class="inline">8px</code>) and larger (<code class="inline">16px</code>) variants exist. Timeline cards use <code class="inline">14px</code>.</td></tr>
      <tr><td><strong>Border width</strong></td><td>1 px</td><td>Use <code class="inline">rgba(0,0,0,0.08)</code> or <code class="inline">#DDDDDD</code> depending on bg.</td></tr>
    </table>

    <h2>7 · Components</h2>
    <h3>7.1 Buttons</h3>
    <div class="component-row">
      <button class="btn btn-primary">Primary Button</button>
      <button class="btn btn-secondary">Secondary Button</button>
      <button class="btn btn-accent">Accent Button</button>
    </div>

    <h3>7.2 Tag / Chip</h3>
    <div class="component-row">
      <div class="tag">Default Tag</div>
      <div class="tag tag-active">Active Tag</div>
    </div>

    <h3>7.3 Timeline Card</h3>
    <div class="component-row">
      <div class="card">
        <div class="card-img"></div>
        <div class="card-content">
          <div class="card-title">Card Headline</div>
          <div class="card-tags">
            <div class="tag">News</div>
            <div class="tag">Politics</div>
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION 7.4 Vertical Timeline Rail REMOVED -->

    <!-- START: UPDATED 7.5 Navigation -->
    <h2>7.5 Navigation – AI‑Native Adaptive Tabs (Updated v2)</h2>
    <p>(This section supersedes all earlier "7.5 Navigation" specs.)</p>
    <p>The navigation is no longer static; it adapts to surface what the AI concierge determines is most relevant right now based on data‑model insights (pending interviews, new uploads, unreviewed transcripts).</p>
    <table>
        <thead>
            <tr>
                <th>Element</th>
                <th>Behaviour</th>
                <th>Visual Spec</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Adaptive Tab Bar</strong></td>
                <td>Max 5 tabs; order & labels update contextually.</td>
                <td>Height 48px; transparent bg; active tab gets 2px accent underline.</td>
            </tr>
            <tr>
                <td><strong>Default Set</strong></td>
                <td>Overview (Home), To Review, AI Prompts, Completed, Archive.</td>
                <td>Tabs use Open Sans 600 / 14px; default color <code class="inline">--c-neutral-medium</code> (for demo visibility on dark bg, spec says --c-neutral-dark); active <code class="inline">--c-accent-100</code>.</td>
            </tr>
            <tr>
                <td><strong>Dynamic Rules</strong></td>
                <td>• To Review appears if unseen items score ≥ 0.6.<br>• AI Prompts appears after AI produces ≥ 1 gap suggestion.<br>• Tabs re‑order when context scores change.</td>
                <td>Crossfade + slide 40px (140 ms). <em>(Conceptual - JS driven)</em></td>
            </tr>
            <tr>
                <td><strong>Add Custom Filter +</strong></td>
                <td>Final slot; tap opens filter builder (year, tag, media type). AI may suggest a filter and pre‑fill it.</td>
                <td>Icon 20px, stroke 2px.</td>
            </tr>
            <tr>
                <td><strong>Motion</strong></td>
                <td colspan="2">Tabs shuffle: crossfade + slide; underline slides (240 ms, var(--easing-standard)). <em>(Conceptual - JS driven)</em></td>
            </tr>
            <tr>
                <td><strong>Accessibility</strong></td>
                <td colspan="2">Live‑region announcement on tab insertion: “Navigation updated: [Tab Name] now available.” <em>(Conceptual - JS driven)</em><br>2px focus ring <code class="inline">--c-accent-100</code>.</td>
            </tr>
        </tbody>
    </table>
    <p class="user-benefit"><strong>User Benefit:</strong> Elders don’t need to dig for next steps—the UI floats them to the top, aligned with the guided‑concierge promise.</p>

    <div class="component-demo component-demo-dark">
        <div class="adaptive-tab-bar" role="tablist" aria-label="Adaptive App Navigation">
            <button class="adaptive-tab" role="tab" aria-selected="false" aria-controls="panel-overview">Overview</button>
            <button class="adaptive-tab active" role="tab" aria-selected="true" aria-controls="panel-to-review">To Review <span class="notification-dot"></span></button>
            <button class="adaptive-tab" role="tab" aria-selected="false" aria-controls="panel-ai-prompts">AI Prompts</button>
            <button class="adaptive-tab" role="tab" aria-selected="false" aria-controls="panel-completed">Completed</button>
            <button class="adaptive-tab adaptive-tab-filter" role="tab" aria-selected="false" aria-controls="panel-filter-builder" aria-label="Add Custom Filter">
                <svg class="svg-icon adaptive-tab-filter-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
            </button>
        </div>
    </div>
    <!-- END: UPDATED 7.5 Navigation -->

    <h3>7.6 Form Elements</h3>
    <div class="component-row">
      <input type="text" class="form-element" placeholder="Search...">
    </div>

    <h2>8 · States & Interaction</h2>
    <table>
      <tr><td><strong>Hover / Pointer</strong></td><td>Border or bg tint 4-10%; cursor circle expands 1.4× (conceptual). Specifics vary by component.</td></tr>
      <tr><td><strong>Pressed / Tap</strong></td><td>96-98% scale, opacity 96%.</td></tr>
      <tr><td><strong>Disabled</strong></td><td>Opacity 40%; pointer events none.</td></tr>
      <tr><td><strong>Focus-visible</strong></td><td>2 px outline or distinct border/shadow <code class="inline">--c-neutral-dark</code> or accent (meets WCAG).</td></tr>
    </table>

    <h2>9 · Motion</h2>
    <table>
      <tr><th>Action</th><th>Property</th><th>Duration</th><th>Easing</th></tr>
      <tr><td>Card enter</td><td>opacity + translateY(6 px)</td><td>170 ms</td><td><code class="inline">cubic-bezier(.4,0,.2,1)</code></td></tr>
      <tr><td>Tab switch (Adaptive)</td><td>Underline slide</td><td>240 ms</td><td><code class="inline">var(--easing-standard)</code></td></tr>
      <tr><td>Button press</td><td>scale 0.98</td><td>120 ms</td><td><code class="inline">var(--easing-standard)</code></td></tr>
      <tr><td>Follow toggle</td><td>gradient sweep</td><td>300 ms</td><td>linear</td></tr>
    </table>
    <p><code class="inline">prefers-reduced-motion</code> → disable translate, reduce duration ≤ 100 ms.</p>

    <h2>10 · Imagery Guidelines</h2>
    <ul>
      <li><strong>Aspect ratio</strong> — 16 : 9 for thumbnails, 1 : 1 fallback.</li>
      <li><strong>Treatment</strong> — 4% black overlay on hover; 12 px rounded corners.</li>
      <li><strong>Subject</strong> — News imagery must be editorial, no stock clichés.</li>
    </ul>

    <h2>11 · Accessibility</h2>
    <ul>
      <li>Minimum text contrast – AA 4.5 : 1 (all primaries > 7 : 1).</li>
      <li>All interactive targets ≥ 44 × 44 px.</li>
      <li>Alt text required for every image.</li>
      <li>Supports RTL; icons mirror automatically (ensure SVGs are designed for this).</li>
    </ul>

    <h2>12 · Cursor & Haptics</h2>
    <ul>
      <li><strong>Desktop cursor</strong> — 18 px ring, 1 px white stroke, 20% opacity fill. (Conceptual)</li>
      <li>On tap-down (mobile) → short 30 ms haptic.</li>
    </ul>

    <h2>13 · Sound (Optional)</h2>
    <ul>
      <li>Subtle click (-24 LUFS) on major actions; must respect OS mute.</li>
    </ul>

    <h2>14 · Implementation Tokens</h2>
    <code>:root {
  /* Colors */
  --c-primary-100: #000000;
  --c-primary-invert: #FFFFFF;
  --c-neutral-light: #F5F5F5;
  --c-neutral-medium: #DDDDDD;
  --c-neutral-dark: #555555;
  --c-accent-100: #D32F2F;
  
  /* Typography */
  --font-primary: "Open Sans", system-ui, sans-serif;
  --font-secondary: "Libre Caslon Display", serif;
  --font-timeline: "Inter", "SF Pro", system-ui, sans-serif;

  /* Spacing & Layout */
  --radius-base: 12px; /* ... other existing tokens */
  --radius-timeline-card: 14px;
  
  /* Motion */ /* ... existing motion tokens */

  /* AI Component Tokens */ /* ... existing AI tokens */

  /* Full Timeline Component Tokens */
  --tl-bg: #0F0F10;
  --tl-ink-100: #FFFFFF; /* ... other timeline color tokens ... */
  --tl-accent-primary: #007AFF; /* ... etc. */

  /* ... other specific timeline dimension tokens ... */
}</code>

    <h2>18 · Bottom Tab Bar – Concierge Legacy Edition (Final)</h2>
     <p>Tailored for elder, low‑tech users—large targets, simple labels. This replaces earlier drafts.</p>
    <h3>18.1 Overall Specs</h3>
    <table>
      <tr><th>Attribute</th><th>Value</th><th>Notes</th></tr>
      <tr><td><strong>Height</strong></td><td>56 px + safe‑area‑inset</td><td>Matches native iOS/Android guidelines.</td></tr>
      <tr><td><strong>Padding</strong></td><td>8 px top · 12 px bottom</td><td>Extra bottom room improves tap accuracy.</td></tr>
      <tr><td><strong>Background</strong></td><td>--c-primary-100 (#000)</td><td>True black saves OLED battery.</td></tr>
      <tr><td><strong>Top Border</strong></td><td>1 px rgba(255,255,255,0.08)</td><td>Subtle separation.</td></tr>
    </table>
    <h3>18.2 Tab Layout (4 Slots)</h3>
    <p>Home — house icon 24 px<br>
    Timeline — vertical‑timeline icon 24 px<br>
    Assistant — chat‑bubble icon 24 px<br>
    Profile — user‑circle icon 24 px</p>
    
    <div class="bottom-tab-bar" aria-label="Main Navigation">
      <div class="tab-item" role="button" tabindex="0" aria-label="Home">
        <div class="tab-icon icon-house"></div>
        <div class="tab-label">Home</div>
      </div>
      <div class="tab-item" role="button" tabindex="0" aria-label="Timeline">
        <div class="tab-icon icon-timeline"></div>
        <div class="tab-label">Timeline</div>
      </div>
      <div class="tab-item" role="button" tabindex="0" aria-label="Assistant">
        <div class="tab-icon icon-chat"></div>
        <div class="tab-label">Assistant</div>
      </div>
      <div class="tab-item" role="button" tabindex="0" aria-label="Profile">
        <div class="tab-icon icon-user"></div>
        <div class="tab-label">Profile</div>
      </div>
    </div>

    <h2>19 · Conversational AI Interface</h2>
    <p>These elements enable real‑time dialogue with the concierge AI while keeping the UI senior‑friendly.</p>
    <h3>19.1 Chat Launcher (Floating Action Bubble)</h3>
    <table>
      <thead><tr><th>Attribute</th><th>Spec</th><th>Notes</th></tr></thead>
      <tbody>
        <tr><td><strong>Size</strong></td><td>56 × 56 px circle (<code class="inline">--chat-launcher-size</code>)</td><td>Sits 16 px above bottom‑tab bar, right aligned.</td></tr>
        <tr><td><strong>Default</strong></td><td>Icon: chat-bubble-star, 24 px. Icon stroke: <code class="inline">--c-accent-100</code>. FAB background: <code class="inline">--c-primary-invert</code> (#FFF)</td><td>High contrast against black background.</td></tr>
        <tr><td><strong>Hover / Press</strong></td><td>Scale 1.05 (hover), 0.96 (press); bg tint <code class="inline">rgba(162,0,0,0.1)</code> on press.</td><td>Visual feedback.</td></tr>
        <tr><td><strong>Badge</strong></td><td>Red dot 10 px (with 2px white border) for unread messages. Top-right.</td><td>Indicates new AI messages.</td></tr>
      </tbody>
    </table>
    <div class="component-demo component-demo-dark" style="min-height: 100px; justify-content: flex-end; align-items: flex-end; padding-bottom: 80px;">
        <p style="position: absolute; top:10px; left:10px; font-size:12px; opacity:0.7;">(FAB is fixed relative to viewport for demo)</p>
        <div class="chat-launcher" aria-label="Open Nality Concierge Chat">
            <div class="chat-launcher-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M16.83 13.97A6.002 6.002 0 0 1 12 17a6 6 0 0 1-6-6V5h12v2.5M9 17h6"></path>
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                    <polygon points="12 5.5 13.18 8.06 15.5 8.5 13.75 10.04 14.25 12.5 12 11.12 9.75 12.5 10.25 10.04 8.5 8.5 10.82 8.06 12 5.5" stroke-width="1"/>
                </svg>
            </div>
            <div class="chat-launcher-badge"></div>
        </div>
    </div>
    <h3>19.2 Chat Panel</h3>
    <table>
      <thead><tr><th>Attribute</th><th>Spec</th><th>Notes</th></tr></thead>
      <tbody>
        <tr><td><strong>Surface</strong></td><td>Bottom‑sheet, max 90vh height, 16px top radius</td><td>Allows quick dismissal via swipe‑down (conceptual).</td></tr>
        <tr><td><strong>Background</strong></td><td><code class="inline">--chat-panel-bg</code> (#FFF)</td><td>Inverts to light surface for reading comfort. Text: <code class="inline">--chat-panel-text</code> (#000)</td></tr>
        <tr><td><strong>Header</strong></td><td>Title “Nality Concierge”, close × button, typing indicator dots.</td><td>Clear context and controls.</td></tr>
        <tr><td><strong>Input Row</strong></td><td>~56px height, bg <code class="inline">--chat-input-bg</code>, 12px radius for input field.</td><td>Mic button right, text input middle, send arrow left (or vice versa based on LTR/RTL).</td></tr>
        <tr><td><strong>Voice Mode</strong></td><td>Long‑press mic → records; waveform animates accent pulsing (conceptual).</td><td>Hands-free input.</td></tr>
      </tbody>
    </table>
    <div class="component-demo component-demo-light" style="height: 500px; padding:0; overflow: hidden;">
        <div class="chat-panel" style="position: relative; max-height: 100%; box-shadow:none;">
            <div class="chat-panel-header">
                <span class="chat-panel-title">Nality Concierge</span>
                <div class="typing-indicator" aria-label="AI is typing"><span></span><span></span><span></span></div>
                <button class="chat-panel-close-btn" aria-label="Close chat">
                    <svg class="svg-icon" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            </div>
            <div class="chat-panel-messages">
                <p style="text-align:center; font-size:14px; color: var(--c-neutral-medium);">Chat messages appear here.</p>
            </div>
            <div class="chat-panel-input-row">
                <button class="chat-panel-tool-btn" aria-label="Send message">
                     <svg class="svg-icon" viewBox="0 0 24 24" style="fill:currentColor; stroke:none;"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></svg>
                </button>
                <input type="text" class="chat-panel-input" placeholder="Type your message...">
                <button class="chat-panel-tool-btn" aria-label="Use voice input">
                    <svg class="svg-icon" viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="22"></line></svg>
                </button>
            </div>
        </div>
    </div>

    <h3>19.3 Message Bubbles</h3>
    <table>
      <thead><tr><th>Sender</th><th>Background</th><th>Text</th><th>Shape</th></tr></thead>
      <tbody>
        <tr><td><strong>AI</strong></td><td><code class="inline">--chat-bg-ai</code> (accent alpha)</td><td><code class="inline">--chat-text-ai</code> (#000)</td><td>Left‑aligned, 12px radius, arrow on left.</td></tr>
        <tr><td><strong>User</strong></td><td><code class="inline">--chat-bg-user</code> (accent solid)</td><td><code class="inline">--chat-text-user</code> (#FFF)</td><td>Right‑aligned, same radius, arrow on right.</td></tr>
        <tr><td colspan="4">Timestamp caption: 12px, Open Sans 400, <code class="inline">--chat-timestamp-text</code>, below each bubble.</td></tr>
      </tbody>
    </table>
    <div class="component-demo component-demo-light" style="background-color: var(--chat-panel-bg);">
        <div class="chat-panel-messages" style="position:relative; padding: 16px;">
            <div style="display: flex; flex-direction: column; align-items: flex-start; gap: 2px;">
                <div class="message-bubble message-bubble-ai">
                    <p>Hello! How can I assist you with your timeline today?</p>
                </div>
                <div class="message-timestamp">AI • 10:30 AM</div>
            </div>
            <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 2px; margin-top: 12px;">
                <div class="message-bubble message-bubble-user">
                    <p>I'd like to add an event from 1985.</p>
                </div>
                 <div class="message-timestamp">You • 10:31 AM</div>
            </div>
             <div style="display: flex; flex-direction: column; align-items: flex-start; gap: 2px; margin-top: 12px;">
                <div class="message-bubble message-bubble-ai">
                    <p>Certainly! What is the event and date?</p>
                </div>
                <div class="message-timestamp">AI • 10:32 AM</div>
            </div>
        </div>
    </div>
    <h3>19.4 Accessibility & Keyboard Support</h3>
    <ul>
        <li>Focus trap inside chat panel/sheet.</li>
        <li><code class="inline">Esc</code> key closes panel.</li>
        <li>Voice text playback toggle (screen‑reader safe implementation needed).</li>
        <li><code class="inline">prefers-reduced-motion</code> disables waveform animation and other non-essential motion.</li>
    </ul>

    <h3>19.5 CSS Tokens (already added to <code class="inline">:root</code>)</h3>
    <code>/* AI Component Tokens as defined in :root */</code>

    <h2>20 · AI Notification System</h2>
    <p>Lightweight feedback and proactive tips from the assistant.</p>
    <h3>20.1 Toast (Bottom)</h3>
    <table>
      <thead><tr><th>Attribute</th><th>Value</th><th>Notes</th></tr></thead>
      <tbody>
        <tr><td><strong>Position</strong></td><td>Centered, 16px above tab bar (adjust if FAB present)</td><td>For demo: fixed bottom.</td></tr>
        <tr><td><strong>Width</strong></td><td><code class="inline">clamp(288px, 80%, 560px)</code></td><td>Responsive width.</td></tr>
        <tr><td><strong>Background</strong></td><td><code class="inline">--c-neutral-dark</code> (#555)</td><td>Dark toast for contrast on light/dark themes.</td></tr>
        <tr><td><strong>Text</strong></td><td><code class="inline">--c-primary-invert</code> (#FFF), Open Sans 600, 14px</td><td>Clear and legible.</td></tr>
        <tr><td><strong>Duration</strong></td><td>4s default; 8s if action buttons present</td><td>(Behavioral, not styled)</td></tr>
        <tr><td><strong>Shadow</strong></td><td><code class="inline">0 4px 12px rgba(0,0,0,0.3)</code></td><td>Depth.</td></tr>
      </tbody>
    </table>
    <div class="component-demo component-demo-dark" style="min-height: 120px; justify-content:center; align-items:flex-end; padding-bottom:80px;">
        <p style="position: absolute; top:10px; left:10px; font-size:12px; opacity:0.7;">(Toast is fixed relative to viewport for demo)</p>
        <div class="ai-toast">
            <span>Event from 1982 successfully added!</span>
            <div class="ai-toast-actions">
                <button class="btn btn-secondary" style="border-color:rgba(255,255,255,0.5); color:rgba(255,255,255,0.8);">Undo</button>
                <button class="btn btn-primary" style="background:rgba(255,255,255,0.2); color:white;">View</button>
            </div>
        </div>
    </div>
    <h3>20.2 Banner (Top Inline)</h3>
    <p>Appears below header when AI suggests completing a gap (e.g., “Add a photo for 1982 graduation”).</p>
    <table>
      <thead><tr><th>Attribute</th><th>Value</th><th>Notes</th></tr></thead>
      <tbody>
        <tr><td><strong>Background</strong></td><td><code class="inline">--c-accent-100</code></td><td>Uses accent color for prominence.</td></tr>
        <tr><td><strong>Text</strong></td><td><code class="inline">#FFF</code> (<code class="inline">--c-primary-invert</code>)</td><td>High contrast.</td></tr>
        <tr><td><strong>Interaction</strong></td><td>Dismiss × icon. Slide‑down 170ms, ease‑out (conceptual).</td><td>User control.</td></tr>
      </tbody>
    </table>
    <div class="component-demo component-demo-dark">
        <div class="ai-banner">
            <span class="ai-banner-text">AI Suggestion: Add a photo for your 1982 graduation event?</span>
            <button class="ai-banner-dismiss" aria-label="Dismiss suggestion">
                <svg class="svg-icon" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
        </div>
    </div>
    <h3>20.3 Modal Insight</h3>
     <p>When AI finishes PDF export or detects content gaps > 5, a centered modal appears.</p>
    <table>
      <thead><tr><th>Attribute</th><th>Value</th><th>Notes</th></tr></thead>
      <tbody>
        <tr><td><strong>Max Width</strong></td><td>600px</td><td>Readable content width.</td></tr>
        <tr><td><strong>Surface</strong></td><td><code class="inline">--c-primary-invert</code> background, <code class="inline">--c-primary-100</code> text.</td><td>Light surface for readability.</td></tr>
        <tr><td><strong>Header Stripe</strong></td><td>4px top border, <code class="inline">--c-accent-100</code></td><td>Visual cue, connects to AI.</td></tr>
        <tr><td><strong>Actions</strong></td><td>Two buttons: Review (accent) and Later (secondary).</td><td>Clear choices.</td></tr>
      </tbody>
    </table>
    <div class="component-demo component-demo-dark" style="min-height: 300px; justify-content:center; align-items:center;">
        <p style="position: absolute; top:10px; left:10px; font-size:12px; opacity:0.7;">(Modal is fixed relative to viewport for demo)</p>
        <button class="btn btn-primary" onclick="document.getElementById('demo-modal').style.display='flex'">Show Modal Insight</button>
        
        <div class="modal-overlay" id="demo-modal" style="display:none;">
            <div class="modal-content">
                <div class="modal-header">Timeline Analysis Complete</div>
                <div class="modal-body">
                    Nality Concierge has analyzed your timeline. We found 7 potential gaps you might want to fill in for a more complete story. We've also prepared a PDF summary.
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary-darktext" onclick="document.getElementById('demo-modal').style.display='none'">Later</button>
                    <button class="btn btn-accent" onclick="document.getElementById('demo-modal').style.display='none'">Review Gaps</button>
                </div>
            </div>
        </div>
    </div>
    <h3>20.4 Sound & Haptics</h3>
    <ul>
        <li>Toast appears → subtle “tap” sound (‑28 LUFS). (Conceptual)</li>
        <li>Long toast vibration for motor feedback when accessibility vibration enabled. (Conceptual)</li>
    </ul>

    <!-- --- START: Full Timeline Component Section --- -->
    <h2>21 · Full Timeline Component</h2>
    <p>This component displays events chronologically with rich card variations, designed for clarity and a premium feel.
        It adheres to a specific set of visual and interaction guidelines tailored for this application.
        <em>(Note: This is a static representation. Interactions like scroll animations, pinch-zoom, and dynamic loading are conceptual.)</em>
    </p>
    
    <div class="full-timeline-viewport" aria-label="User Life Timeline">
        <div class="timeline-scroll-zone">
            <div class="timeline-list">
                <div class="timeline-spine"></div>
                <div class="timeline-decade-chip" style="top: 10px;">1950</div>
                <div class="timeline-item" style="margin-top: 50px;"> 
                    <div class="timeline-node-container" style="top: 70px;"> 
                        <div class="timeline-event-node moment"></div>
                    </div>
                    <div class="timeline-year-floater" style="top: 70px;">1952</div>
                    <div class="timeline-event-card featured-media-card featured">
                        <div class="ghost-card-1"></div>
                        <div class="ghost-card-2"></div>
                        <button class="card-overflow-menu-button" aria-label="More options">
                            <span></span><span></span><span></span>
                        </button>
                        <span class="card-source-badge">MY LIFE EVENTS</span>
                        <div class="card-media-region">
                            <img src="https://via.placeholder.com/80x80.png/555/fff?text=Event" alt="Graduation Photo" class="card-media-image">
                        </div>
                        <h4 class="card-title-text">Graduated High School with Honors</h4>
                        <span class="card-date-range">Mar 15, 1952 - Mar 16, 1952</span>
                        <p class="card-body-snippet">A momentous occasion, marking the end of one chapter and the beginning of another. The ceremony was held at the old town hall.</p>
                        <div class="card-tag-chips">
                            <span class="card-tag-chip">#education</span>
                            <span class="card-tag-chip">#milestone</span>
                            <span class="card-tag-chip">#youth</span>
                        </div>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-node-container" style="top: 30px;">
                        <div class="timeline-event-node duration-start"></div>
                        <div class="duration-connector" style="top: 50%; transform: translateY(-50%); width: var(--tl-card-gutter); right: calc(100% - var(--tl-card-gutter));"></div>
                    </div>
                    <div class="timeline-year-floater" style="top: 30px;">1955</div>
                    <div class="timeline-event-card standard-text-card">
                        <button class="card-dismiss-button" aria-label="Dismiss story">
                           <svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </button>
                        <span class="card-source-badge">PERSONAL JOURNAL</span>
                        <h4 class="card-title-text">First Job at the Local Diner</h4>
                        <p class="card-body-snippet">Started working as a server to save up for college. Long hours but learned a lot about people and hard work. Met some interesting characters!</p>
                        <div class="card-media-doc">
                            <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                            <span>Job Offer Letter (PDF)</span>
                        </div>
                    </div>
                    <div class="timeline-node-container" style="top: calc(100% - 30px); "> 
                        <div class="timeline-event-node duration-end"></div>
                        <div class="duration-connector" style="top: 50%; transform: translateY(-50%); width: var(--tl-card-gutter); right: calc(100% - var(--tl-card-gutter));"></div>
                    </div>
                </div>
                <div class="timeline-item">
                     <div class="timeline-node-container" style="top: 80px;">
                        <div class="timeline-event-node moment decade-marker"></div> 
                    </div>
                    <div class="timeline-year-floater" style="top: 80px;">1960</div>
                    <div class="timeline-decade-chip" style="top: 30px;">1960</div>
                    <div class="timeline-event-card dismissible-card">
                        <button class="card-dismiss-button" aria-label="Dismiss story">
                           <svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </button>
                        <span class="card-source-badge">FAMILY ARCHIVES</span>
                        <h4 class="card-title-text">Family Vacation to the Grand Canyon</h4>
                         <div class="card-media-video-thumb">
                            <img src="https://via.placeholder.com/220x124.png/444/fff?text=16:9+Video" alt="Video thumbnail of Grand Canyon" style="width:100%; height:100%; object-fit:cover; border-radius:10px;">
                            <div class="play-icon" style="position:absolute;">
                                <svg viewBox="0 0 24 24"><path d="M5 3l14 9-14 9V3z"></path></svg>
                            </div>
                        </div>
                        <p class="card-body-snippet">An unforgettable trip with the whole family. The views were breathtaking. Dad bought a new 8mm camera for this.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-node-container" style="top: 75px;">
                        <div class="timeline-event-node moment" style="background-color: var(--tl-surface-80);"></div>
                    </div>
                    <div class="skeleton-card">
                        <div class="skeleton-line" style="width: 40%; height: 10px; margin-bottom:10px;"></div>
                        <div class="skeleton-line medium" style="height: 16px;"></div>
                        <div class="skeleton-line short" style="height: 16px; margin-bottom:12px;"></div>
                        <div class="skeleton-line"></div>
                        <div class="skeleton-line medium"></div>
                        <div class="skeleton-line short"></div>
                    </div>
                </div>
            </div> 
        </div> 
        <button class="timeline-fab-add" aria-label="Add new timeline event">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M19 11h-6V5a1 1 0 00-2 0v6H5a1 1 0 000 2h6v6a1 1 0 002 0v-6h6a1 1 0 000-2z"/>
            </svg>
        </button>
    </div> 
    <!-- --- END: Full Timeline Component Section --- -->

  </div> <!-- End .container -->

</body>
</html>